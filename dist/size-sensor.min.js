!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.sizeSensor={})}(this,function(e){"use strict";var t=1,n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},o=function e(t){var r=this;n(this,e),this.resizeListener=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n=null;return function(){for(var r=this,o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];clearTimeout(n),n=setTimeout(function(){e.apply(r,i)},t)}}(function(){var e=getComputedStyle(r.element),t=e.width,n=e.height;r.listeners.forEach(function(e){e({width:t,height:n})})}),this.bind=function(e){r.sensor||(r.sensor=r.createSensor()),-1===r.listeners.indexOf(e)&&r.listeners.push(e)},this.unbind=function(e){var t=r.listeners.indexOf(e);-1!==t&&r.listeners.splice(t,1),0===r.listeners.length&&r.sensor&&r.destroy()},this.createSensor=function(){throw new Error("to be implemented.")},this.destroy=function(){throw new Error("to be implemented.")},this.element=t,this.listeners=[],this.sensor=void 0},i="display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1; opacity: 0;",s="size-sensor-object",u=function(e){function t(){var e,o,u;n(this,t);for(var c=arguments.length,l=Array(c),a=0;a<c;a++)l[a]=arguments[a];return o=u=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),u.createSensor=function(){var e=document.createElement("object");return e.setAttribute("style",i),e.setAttribute("class",s),e.type="text/html",e.data="about:blank","static"===getComputedStyle(u.element).position&&(u.element.style.position="relative"),e.onload=function(){e.contentDocument.defaultView.addEventListener("resize",u.resizeListener),u.resizeListener()},u.element.appendChild(e),e},u.destroy=function(){u.sensor&&u.sensor.parentNode&&(u.sensor.contentDocument.defaultView.removeEventListener("resize",u.resizeListener),u.sensor.parentNode.removeChild(u.sensor),u.sensor=void 0)},r(u,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o),t}(),c={},l=function(e){var n=e.getAttribute("size-sensor-id");if(n&&c[n])return c[n];var r=""+t++;e.setAttribute("size-sensor-id",r);var o=new u(e);return c[r]=o,o};e.bind=function(e,t){var n=l(e);return n.bind(t),function(){n.unbind(t)}},e.clear=function(e){!function(e){var t=e.element.getAttribute("size-sensor-id");e.element.removeAttribute("size-sensor-id"),e.destroy(),t&&c[t]&&delete c[t]}(l(e))},Object.defineProperty(e,"__esModule",{value:!0})});
